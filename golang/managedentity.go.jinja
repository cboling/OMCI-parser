{% import 'macros.jinja' as Macros with context -%}
{{copyright}}
{{generator_warning}}
package {{package_name}}
{# blank line #}
import (
	"../../omci"
)
{# blank line #}
type {{ classID.name|camelcase }} struct {
	omci.BaseManagedEntity
}

func New{{ classID.name|camelcase }}(params ...ParamData) (omci.IManagedEntity, error) {
	eid := decodeEntityID(params...)
	entity := omci.BaseManagedEntity{
		Name:          "{{ classID.name|camelcase }}",
		ClassID:       {{ classID.cid }},
		EntityID:      eid,
		MessageTypes:  []omci.MsgType{
			{%-if classID.actions|length %}{{Macros.generate_msgTypes(classID.actions)}}{%endif%}
			{%-if classID.optional_actions|length %}{{Macros.generate_msgTypes(classID.optional_actions)}}{%endif%}
		},
		AttributeMask: 0,
		Attributes:    []omci.IAttribute{
			{%-if classID.attributes|length %}{{Macros.generate_attributes(classID.attributes)}}{%endif%}
		},
	}
	entity.ComputeAttributeMask()
	return &{{ classID.name|camelcase }}{entity}, nil
}
{# blank line #}
